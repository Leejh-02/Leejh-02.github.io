---
layout: post
title:  "리눅스 주요 로그파일"
date:   2025-05-22
#category: 
image: assets/img/blog/blog9.jpg
author: 이주환
tags: rock
---

리눅스 시스템은 안정성과 보안 유지를 위해 다양한 종류의 로그 파일을 생성하고 관리합니다. 이 로그 파일들은 시스템의 동작 상태, 발생한 이벤트, 오류, 보안 관련 활동 등 중요한 정보를 기록하며, 시스템 관리자가 문제 해결, 성능 모니터링, 보안 감사 등을 수행하는 데 필수적인 자료가 됩니다. 대부분의 로그 파일은 /var/log 디렉토리에 저장됩니다.

/var/log 디렉토리 개요
/var/log는 시스템의 모든 로그 파일이 저장되는 표준 위치입니다. 이 디렉토리 내에는 각 애플리케이션이나 서비스별로 별도의 하위 디렉토리나 파일이 존재하며, 오래된 로그 파일은 자동으로 압축되거나 삭제되어 디스크 공간을 효율적으로 관리합니다(주로 logrotate 서비스에 의해 관리).

주요 시스템 로그 파일
리눅스 시스템의 전반적인 동작과 관련된 핵심 로그 파일들입니다.

/var/log/syslog (Debian/Ubuntu 계열) 또는 /var/log/messages (CentOS/RHEL 계열)

내용: 이 파일은 시스템의 전반적인 활동을 기록하는 가장 중요한 로그 파일 중 하나입니다. 커널 메시지, 시스템 데몬(Daemon)의 시작/종료 알림, 하드웨어 오류, 네트워크 이벤트 등 시스템 전반에서 발생하는 다양한 메시지를 포함합니다. 문제 발생 시 가장 먼저 확인해야 할 로그입니다.
예시 로그:
May 22 01:00:01 hostname kernel: [1234.567890] EXT4-fs (sda1): mounted filesystem with ordered data mode.
May 22 01:00:05 hostname systemd[1]: Starting Apache HTTP Server...
May 22 01:00:10 hostname CRON[9876]: (root) CMD (command -v apt-xapian-index >/dev/null && update-apt-xapian-index --lazy >/dev/null || true)
/var/log/auth.log (Debian/Ubuntu 계열) 또는 /var/log/secure (CentOS/RHEL 계열)

내용: 사용자 인증(Authentication) 및 권한 부여(Authorization) 관련 활동을 기록합니다. 로그인 시도(성공/실패), sudo 명령어 사용, SSH 연결 시도, 사용자 계정 변경 등 보안과 직결된 중요한 정보를 포함합니다. 무단 접근 시도나 보안 침해 여부를 파악하는 데 사용됩니다.
예시 로그:
May 22 01:05:01 hostname sshd[1234]: Accepted password for user1 from 192.168.1.100 port 54321 ssh2
May 22 01:05:03 hostname sudo[5678]: user1 : TTY=pts/0 ; PWD=/home/user1 ; USER=root ; COMMAND=/usr/bin/apt update
May 22 01:05:10 hostname sshd[9876]: Failed password for invalid user from 203.0.113.5 port 2222 ssh2
/var/log/kern.log

내용: 리눅스 커널에서 발생하는 메시지와 경고, 오류를 기록합니다. 주로 하드웨어 문제, 디바이스 드라이버 관련 오류, 커널 모듈 로딩/언로딩 정보 등 낮은 수준의 시스템 문제를 진단할 때 유용합니다.
예시 로그:
May 22 01:10:01 hostname kernel: [2345.678901] usb 1-1: new full-speed USB device number 2 using ohci-hcd
May 22 01:10:05 hostname kernel: [2345.678905] usb 1-1: unable to read config index 0 descriptor/all
/var/log/dmesg

내용: 시스템 부팅 시 커널이 출력하는 모든 메시지를 포함합니다. 부팅 과정에서 발생한 하드웨어 감지, 드라이버 로딩, 장치 초기화 등의 정보를 확인할 수 있습니다. 시스템 부팅 문제를 진단하거나 특정 하드웨어의 인식 여부를 확인할 때 사용됩니다.
사용 예시: dmesg | less 명령어로 내용을 확인하거나, dmesg -H로 사람 친화적인 형식으로 볼 수 있습니다.
/var/log/boot.log

내용: 시스템 부팅 과정에서 실행되는 서비스들의 시작/종료 상태를 기록합니다. 각 서비스가 정상적으로 시작되었는지 여부를 확인할 수 있습니다.
예시 로그:
[  OK  ] Started Network Manager.
[  OK  ] Reached target Network.
[  OK  ] Started OpenSSH server.
[FAILED] Failed to start Apache HTTP Server.
/var/log/dpkg.log (Debian/Ubuntu 계열)

내용: dpkg (Debian Package) 시스템의 패키지 설치, 제거, 업데이트 등 모든 변경 이력을 기록합니다. 어떤 패키지가 언제 설치되었는지, 어떤 버전으로 업데이트되었는지 등을 확인할 수 있습니다.
예시 로그:
2025-05-22 01:15:01 install apache2:amd64 <none> 2.4.52-1ubuntu4.1
2025-05-22 01:16:05 upgrade unattended-upgrades:all 2.3 2.3.1
주요 애플리케이션 및 서비스 로그 파일
특정 서비스나 애플리케이션에 의해 생성되는 로그 파일들입니다.

/var/log/apache2/access.log 및 /var/log/apache2/error.log (Apache 웹 서버)

내용:
access.log: 웹 서버에 대한 모든 클라이언트 요청을 기록합니다. 누가, 언제, 어떤 페이지에 접속했으며, 어떤 브라우저를 사용했는지 등의 정보를 포함합니다. 웹사이트 트래픽 분석에 사용됩니다.
error.log: Apache 웹 서버의 오류, 경고, 진단 메시지를 기록합니다. 웹 애플리케이션 또는 서버 구성 문제를 해결하는 데 중요합니다.
예시 로그 (access.log):
192.168.1.10 - - [22/May/2025:01:20:00 +0900] "GET /index.html HTTP/1.1" 200 1234 "-" "Mozilla/5.0"
예시 로그 (error.log):
[Thu May 22 01:21:00.123456 2025] [core:error] [pid 7890:tid 123456789] [client 192.168.1.10:54321] File does not exist: /var/www/html/nonexistent.html
/var/log/nginx/access.log 및 /var/log/nginx/error.log (Nginx 웹 서버)

내용: Apache 로그와 유사하게 Nginx 웹 서버의 클라이언트 요청과 오류를 각각 기록합니다.
예시 로그 (access.log):
192.168.1.10 - - [22/May/2025:01:25:00 +0900] "GET /api/data HTTP/1.1" 200 567 "-" "PostmanRuntime/7.29.0"
예시 로그 (error.log):
2025/05/22 01:26:00 [error] 1234#5678: *9876 open() "/usr/share/nginx/html/favicon.ico" failed (2: No such file or directory), client: 192.168.1.11, server: localhost, request: "GET /favicon.ico HTTP/1.1", host: "example.com"
/var/log/mysql/error.log 또는 /var/log/mysql/mysql.log (MySQL/MariaDB 데이터베이스)

내용: MySQL/MariaDB 데이터베이스 서버의 시작/종료 정보, 오류, 경고, 쿼리 문제 등을 기록합니다. 데이터베이스의 안정성과 성능 문제를 진단하는 데 중요합니다.
예시 로그:
2025-05-22T01:30:00.123456Z 0 [System] [MY-010915] [Server] /usr/sbin/mysqld (mysqld 8.0.28) starting as process 1234
2025-05-22T01:30:05.678901Z 2 [ERROR] [MY-010077] [Server] Failed to create database 'test_db', error: 'File exists'
/var/log/mail.log (메일 서버 - Postfix, Dovecot 등)

내용: 시스템의 메일 서버 활동을 기록합니다. 이메일 송수신, 스팸 필터링, 인증 시도 등 메일 서비스와 관련된 모든 이벤트를 포함합니다.
예시 로그:
May 22 01:35:01 hostname postfix/smtpd[1234]: connect from unknown[192.168.1.100]
May 22 01:35:05 hostname postfix/smtp[5678]: 1234ABCD: to=<user@example.com>, relay=mail.example.com[192.0.2.1]:25, delay=0.5, delays=0.01/0.01/0.05/0.43, dsn=2.0.0, status=sent (250 2.0.0 Ok)
기타 중요한 로그 파일
/var/log/lastlog

내용: 각 사용자가 마지막으로 시스템에 로그인한 시간을 기록합니다. 이 파일은 바이너리 형태이므로 lastlog 명령어로 내용을 확인해야 합니다. 보안 감사 시 사용자의 로그인 기록을 추적하는 데 유용합니다.
사용 예시: lastlog
/var/log/wtmp 및 /var/run/utmp

내용: wtmp는 사용자의 로그인/로그아웃 기록을, utmp는 현재 로그인 중인 사용자의 정보를 기록하는 바이너리 파일입니다. last 명령어로 wtmp의 내용을, who 또는 w 명령어로 utmp의 내용을 확인할 수 있습니다.
사용 예시: last, who
로그 파일들은 시스템의 건강 상태를 파악하고, 문제가 발생했을 때 그 원인을 찾아 해결하는 데 있어 없어서는 안 될 보물창고입니다. 주기적으로 로그를 확인하고, grep, tail -f, less 등의 명령어를 활용하여 필요한 정보를 추출하는 습관을 들이는 것이 좋은 시스템 관리의 시작입니다.